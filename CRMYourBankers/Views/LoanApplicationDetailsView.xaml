<UserControl
    x:Class="CRMYourBankers.Views.LoanApplicationDetailsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
    d:DesignHeight="500"
    d:DesignWidth="500"
    mc:Ignorable="d">

    <StackPanel Orientation="Vertical">
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Wybierz Klienta:" />
            <ComboBox
                Width="300"
                DisplayMemberPath="FullName"
                ItemsSource="{Binding Clients}"
                SelectedValue="{Binding ClientId}"
                SelectedValuePath="Id" />
            <!--
                ItemSource to pobiera dane, SelectedValue wiąże konkretną properte
                z SelectedValuePath, DisplayMemberPath to co się wyświetla
            -->
        </StackPanel>
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Wybierz Bank:" />
            <ComboBox
                Width="300"
                DisplayMemberPath="Name"
                ItemsSource="{Binding Banks}"
                SelectedValue="{Binding BankId}"
                SelectedValuePath="Id" />
        </StackPanel>
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Wnioskowana Kwota:" />
            <TextBox Width="300" Text="{Binding AmountRequestedText}" />
            <!--
             <toolkit:MaskedTextBox Mask="999999" Text="{Binding AmountRequestedText}" />
            -->
        </StackPanel>
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Przyznana Kwota:" />
            <TextBox Width="300" Text="{Binding AmountReceivedText}" />
        </StackPanel>
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Prowizja od klienta:" />
            <TextBox Width="300" Text="{Binding ClientCommissionText}" />
        </StackPanel>
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Uwagi / Zadania" />
            <TextBox Width="300" Text="{Binding TasksToDoText}" />
        </StackPanel>
        <StackPanel
            Margin="5"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Label Content="Data uruchomienia kredytu" />
            <DatePicker
                FirstDayOfWeek="Monday"
                IsTodayHighlighted="True"
                SelectedDate="{Binding LoanStartDate}"
                SelectedDateFormat="Short"
                Visibility="Visible" />
        </StackPanel>
        <Button
            Width="200"
            Command="{Binding SaveButtonCommand}"
            Content="Save" />
        <Button
            Width="200"
            Command="{Binding CancelButtonCommand}"
            Content="Cancel" />
        <StackPanel>
            <DataGrid
                Height="400"
                AutoGenerateColumns="False"
                CanUserAddRows="False"
                ItemsSource="{Binding SelectedLoanApplication.LoanTasks}">
                <DataGrid.Columns>
                    <DataGridTextColumn
                        Width="300"
                        Binding="{Binding Text}"
                        Header="Zadania" />
                    <DataGridCheckBoxColumn Binding="{Binding Done}" Header="Zrobione" />
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
    </StackPanel>
</UserControl>
